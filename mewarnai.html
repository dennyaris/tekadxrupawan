<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Form Pendaftaran - Mewarnai</title>
  <meta name="description" content="Formulir pendaftaran lomba Mewarnai Rupawan. Daftarkan diri Anda dan ikuti kompetisi bergengsi ini."/>
  <link rel="canonical" href="https://dennyaris.github.io/tekadxrupawan/mewarnai.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="Form Pendaftaran - Mewarnai" />
  <meta property="og:description" content="Daftar lomba mewarnai Rupawan secara online melalui formulir ini." />
  <meta property="og:url" content="https://dennyaris.github.io/tekadxrupawan/mewarnai.html" />
  <meta property="og:image" content="https://dennyaris.github.io/tekadxrupawan/assets/rupawan-banner.jpg" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card (optional, untuk share ke Twitter / X) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Form Pendaftaran - Mewarnai" />
  <meta name="twitter:description" content="Daftar lomba mewarnai Rupawan secara online melalui formulir ini." />
  <meta name="twitter:image" content="https://dennyaris.github.io/tekadxrupawan/assets/rupawan-banner.jpg" />
  <link rel="stylesheet" href="assets/style.css"/>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Event",
    "name": "Lomba Mewarnai Rupawan",
    "description": "Lomba Mewarnai untuk siswa SD/Sederajat.",
    "eventStatus": "https://schema.org/EventScheduled",
    "organizer": {
      "@type": "Organization",
      "name": "Rupawan",
      "url": "https://dennyaris.github.io/tekadxrupawan/"
    },
    "offers": {
      "@type": "Offer",
      "availability": "https://schema.org/InStock",
      "url": "https://dennyaris.github.io/tekadxrupawan/mewarnai.html"
    }
  }
  </script>

  <script>
    // Mencegah klik kanan
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
      return false;
    });
    
    // Mencegah shortcut keyboard untuk inspect element
    document.addEventListener('keydown', function(e) {
      // F12
      if(e.keyCode == 123) {
        e.preventDefault();
        return false;
      }
      
      // Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C
      if(e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67)) {
        e.preventDefault();
        return false;
      }
      
      // Ctrl+U (view source)
      if(e.ctrlKey && e.keyCode == 85) {
        e.preventDefault();
        return false;
      }
    });
    
    // Deteksi DevTools - versi yang lebih baik untuk mobile
    function detectDevTools() {
      // Nonaktifkan deteksi pada perangkat mobile
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        return; // Skip deteksi pada perangkat mobile
      }
      
      // Untuk desktop, gunakan threshold yang lebih besar
      const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
      const widthThreshold = isSafari ? 300 : 160;
      const heightThreshold = isSafari ? 300 : 160;
      
      const widthDiff = window.outerWidth - window.innerWidth;
      const heightDiff = window.outerHeight - window.innerHeight;
      
      if (widthDiff > widthThreshold || heightDiff > heightThreshold) {
        document.body.innerHTML = '<div style="text-align:center;padding:50px;"><h1>Akses Ditolak</h1><p>Tindakan tidak diizinkan.</p></div>';
      }
    }
    
    // Tunda eksekusi untuk memastikan halaman dimuat terlebih dahulu
    setTimeout(function() {
      window.addEventListener('resize', detectDevTools);
      setInterval(detectDevTools, 1000);
    }, 1500);
  </script>
</head>
<body oncontextmenu="return false" ondragstart="return false">
  <div class="container">
    <div class="card">
      <div class="header">
        <h1>ðŸŽ¨ Mewarnai</h1>
        <p>Form pendaftaran lomba Mewarnai SD/Sederajat.</p>
      </div>
      <form class="form" id="form-mw">
        <div class="notice"><span class="req">*</span> wajib diisi.</div>
        <div class="grid">
          <div>
            <label>Nama Lengkap <span class="req">*</span></label>
            <input type="text" name="nama_lengkap" required placeholder="Nama peserta">
          </div>
          <div>
            <label>Asal Sekolah <span class="req">*</span></label>
            <input type="text" name="asal_sekolah" required placeholder="SD / Sederajat">
          </div>
          <div>
            <label>Kota/Kab <span class="req">*</span></label>
            <input type="text" name="kota_kab" required placeholder="Contoh: Tangerang">
          </div>

          <div>
            <label>Kelas <span class="req">*</span></label>
            <select name="kelas" required>
              <option value="" selected disabled>Pilih rentang kelas</option>
              <option value="1-2">1 - 2</option>
              <option value="3-4">3 - 4</option>
              <option value="5-6">5 - 6</option>
            </select>
          </div>

          <div class="row-full">
            <label>Alamat Tinggal <span class="req">*</span></label>
            <textarea name="alamat_tinggal" required placeholder="Alamat lengkap"></textarea>
          </div>

          <div>
            <label>Nama PIC Guru <span class="req">*</span></label>
            <input type="text" name="nama_pic_guru" required placeholder="Nama guru pendamping">
          </div>
          <div>
            <label>Kontak PIC Guru <span class="req">*</span></label>
            <input type="tel" name="kontak_pic_guru" inputmode="tel" pattern="[0-9+ ]{8,}" required placeholder="08xxx / +62xxx">
            <div class="help">Gunakan angka, spasi, dan tanda + saja.</div>
          </div>
          <div>
            <label>Nama Orang Tua <span class="req">*</span></label>
            <input type="text" name="nama_ortu" required placeholder="Nama orang tua/wali">
          </div>
          <div>
            <label>Kontak Orang Tua <span class="req">*</span></label>
            <input type="tel" name="kontak_ortu" inputmode="tel" pattern="[0-9+ ]{8,}" required placeholder="08xxx / +62xxx">
          </div>
        </div>

        <div class="footer-note">Dengan mengirim formulir ini, Anda menyetujui data digunakan untuk keperluan administrasi lomba.</div>
        <div class="actions" style="justify-content: center; flex-wrap: wrap;">
          <button type="submit" class="btn-primary" style="margin: 0 auto; min-width: 200px;">Kirim Pendaftaran</button>
        </div>
      </form>
    </div>
  </div>

  <script src="assets/script.js"></script>
  <script>
  (function(){
    const form = document.getElementById('form-mw');
    form.addEventListener('submit', function(e){
      e.preventDefault();
      if(!form.reportValidity()) return;

      const payload = {
        eventType: 'mewarnai',
        nama_lengkap: form.nama_lengkap.value.trim(),
        asal_sekolah: form.asal_sekolah.value.trim(),
        kelas: form.kelas.value,
        alamat_tinggal: form.alamat_tinggal.value.trim(),
        nama_pic_guru: form.nama_pic_guru.value.trim(),
        kontak_pic_guru: telSanitize(form.kontak_pic_guru.value),
        nama_ortu: form.nama_ortu.value.trim(),
        kontak_ortu: telSanitize(form.kontak_ortu.value),
        submitted_at: new Date().toISOString(),
        kota_kab: form.kota_kab.value.trim()
      };
      submitToSheet(payload, form);
    });
  })();
  </script>
</body>
</html>
