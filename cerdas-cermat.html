<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Form Pendaftaran - Cerdas Cermat</title>
  <meta name="description" content="Formulir pendaftaran lomba Cerdas Cermat SMA/Sederajat Rupawan. Daftarkan tim Anda yang beranggotakan 5 orang dan ikuti kompetisi bergengsi ini."/>
  <link rel="canonical" href="https://dennyaris.github.io/tekadxrupawan/cerdas-cermat.html" />

  <!-- Open Graph -->
  <meta property="og:title" content="Form Pendaftaran - Cerdas Cermat" />
  <meta property="og:description" content="Daftar lomba cerdas cermat Rupawan secara online melalui formulir ini." />
  <meta property="og:url" content="https://dennyaris.github.io/tekadxrupawan/cerdas-cermat.html" />
  <meta property="og:image" content="https://dennyaris.github.io/tekadxrupawan/assets/rupawan-banner.jpg" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card (optional, untuk share ke Twitter / X) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Form Pendaftaran - Cerdas Cermat" />
  <meta name="twitter:description" content="Daftar lomba cerdas cermat Rupawan secara online melalui formulir ini." />
  <meta name="twitter:image" content="https://dennyaris.github.io/tekadxrupawan/assets/rupawan-banner.jpg" />
  <link rel="stylesheet" href="assets/style.css"/>
  
  <!-- Schema.org markup untuk Event -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Event",
    "name": "Lomba Cerdas Cermat Rupawan",
    "description": "Lomba Cerdas Cermat untuk siswa SMA/Sederajat dengan tim beranggotakan 5 orang",
    "eventStatus": "https://schema.org/EventScheduled",
    "organizer": {
      "@type": "Organization",
      "name": "Rupawan",
      "url": "https://dennyaris.github.io/tekadxrupawan/"
    },
    "offers": {
      "@type": "Offer",
      "availability": "https://schema.org/InStock",
      "url": "https://dennyaris.github.io/tekadxrupawan/cerdas-cermat.html"
    }
  }
  </script>
  
  <script>
    // Mencegah klik kanan
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
      return false;
    });
    
    // Mencegah shortcut keyboard untuk inspect element
    document.addEventListener('keydown', function(e) {
      // F12
      if(e.keyCode == 123) {
        e.preventDefault();
        return false;
      }
      
      // Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+Shift+C
      if(e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67)) {
        e.preventDefault();
        return false;
      }
      
      // Ctrl+U (view source)
      if(e.ctrlKey && e.keyCode == 85) {
        e.preventDefault();
        return false;
      }
    });
    
    // Deteksi DevTools - versi yang lebih baik untuk mobile
    function detectDevTools() {
      // Nonaktifkan deteksi pada perangkat mobile
      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        return; // Skip deteksi pada perangkat mobile
      }
      
      // Untuk desktop, gunakan threshold yang lebih besar
      const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
      const widthThreshold = isSafari ? 300 : 160;
      const heightThreshold = isSafari ? 300 : 160;
      
      const widthDiff = window.outerWidth - window.innerWidth;
      const heightDiff = window.outerHeight - window.innerHeight;
      
      if (widthDiff > widthThreshold || heightDiff > heightThreshold) {
        document.body.innerHTML = '<div style="text-align:center;padding:50px;"><h1>Akses Ditolak</h1><p>Tindakan tidak diizinkan.</p></div>';
      }
    }
    
    // Tunda eksekusi untuk memastikan halaman dimuat terlebih dahulu
    setTimeout(function() {
      window.addEventListener('resize', detectDevTools);
      setInterval(detectDevTools, 1000);
    }, 1500);
  </script>
</head>
<body oncontextmenu="return false" ondragstart="return false">
  <div class="container">
    <div class="card">
      <div class="header">
        <h1><img src="assets/rupawan-banner.jpg" alt="Logo Lomba Cerdas Cermat Rupawan" width="30" height="30" style="display:none;"> ðŸ“š Cerdas Cermat</h1>
        <p>Form pendaftaran tim lomba Cerdas Cermat berlaku untuk 1 tim beranggotakan 5 orang.</p>
        <nav class="site-nav">
          <a href="index.html" title="Kembali ke Halaman Utama">Beranda</a> | 
          <a href="mewarnai.html" title="Lomba Mewarnai">Lomba Mewarnai</a>
        </nav>
      </div>
      <form class="form" id="form-cc">
        <div class="notice"> <span class="req">*</span> wajib diisi.</div>
        <div class="grid">
          <div class="form-group">
            <label for="asal_sekolah">Asal Sekolah <span class="req">*</span></label>
            <input type="text" id="asal_sekolah" name="asal_sekolah" required placeholder="SMA / Sederajat">
          </div>
          <div class="form-group">
            <label for="kota_kab">Kota/Kab <span class="req">*</span></label>
            <input type="text" id="kota_kab" name="kota_kab" required placeholder="Contoh: Tangerang">
          </div>

          <div class="row-full form-group">
            <label for="nama_tim">Nama Tim <span class="req">*</span></label>
            <input type="text" id="nama_tim" name="nama_tim" required placeholder="Contoh: Tim Aksara">
          </div>

          <div class="row-full form-group"><label>Nama Lengkap Anggota Tim</label></div>
          <div class="form-group"><input type="text" id="anggota_1" name="anggota_1" placeholder="Anggota 1 (wajib)" required></div>
          <div class="form-group"><input type="text" id="anggota_2" name="anggota_2" placeholder="Anggota 2 (wajib)" required></div>
          <div class="form-group"><input type="text" id="anggota_3" name="anggota_3" placeholder="Anggota 3 (wajib)" required></div>
          <div class="form-group"><input type="text" id="anggota_4" name="anggota_4" placeholder="Anggota 4"></div>
          <div class="form-group"><input type="text" id="anggota_5" name="anggota_5" placeholder="Anggota 5"></div>

          <div class="row-full">
            <div class="grid grid-1-3" style="margin-top: 16px;">
              <div class="form-group">
                <label for="nama_pic_guru">Nama PIC Guru <span class="req">*</span></label>
                <input type="text" id="nama_pic_guru" name="nama_pic_guru" required placeholder="Nama guru pendamping">
              </div>
              <div class="form-group">
                <label for="kontak_pic_guru">Kontak PIC Guru <span class="req">*</span></label>
                <input type="tel" id="kontak_pic_guru" name="kontak_pic_guru" inputmode="tel" pattern="[0-9+ ]{8,}" required placeholder="08xxx / +62xxx">
                <div class="help">Gunakan angka, spasi, dan tanda + saja.</div>
              </div>
            </div>
          </div>

          <div class="form-group mobile-full">
            <label for="kontak_perwakilan">Kontak Perwakilan Anggota Tim <span class="req">*</span></label>
            <input type="tel" id="kontak_perwakilan" name="kontak_perwakilan" inputmode="tel" pattern="[0-9+ ]{8,}" required placeholder="08xxx / +62xxx">
          </div>
          <div class="form-group mobile-full">
            <label for="jumlah_supporter">Jumlah Supporter Yang Hadir</label>
            <input type="text" id="jumlah_supporter" name="jumlah_supporter" min="0" placeholder="Contoh: 3">
          </div>
        </div>

        <div class="footer-note">Dengan mengirim formulir ini, Anda menyetujui data digunakan untuk keperluan administrasi lomba.</div>
        <div class="actions" style="justify-content: center; flex-wrap: wrap;">
          <button type="submit" class="btn-primary" style="margin: 0 auto; min-width: 200px;">Kirim Pendaftaran</button>
        </div>
      </form>
    </div>
  </div>

  <footer class="site-footer">
    <p>&copy; 2023 Rupawan. <a href="index.html">Beranda</a> | <a href="thanks.html">Informasi</a></p>
  </footer>

  <script src="assets/script.js"></script>
  <script>
  (function(){
    const form = document.getElementById('form-cc');
    form.addEventListener('submit', function(e){
      e.preventDefault();
      if(!form.reportValidity()) return;

      const payload = {
        eventType: 'cerdas_cermat',
        asal_sekolah: form.asal_sekolah.value.trim(),
        kota_kab: form.kota_kab.value.trim(),
        nama_tim: form.nama_tim.value.trim(),
        anggota_1: form.anggota_1.value.trim(),
        anggota_2: form.anggota_2.value.trim(),
        anggota_3: form.anggota_3.value.trim(),
        anggota_4: form.anggota_4.value.trim(),
        anggota_5: form.anggota_5.value.trim(),
        nama_pic_guru: form.nama_pic_guru.value.trim(),
        kontak_pic_guru: telSanitize(form.kontak_pic_guru.value),
        kontak_perwakilan: telSanitize(form.kontak_perwakilan.value),
        submitted_at: new Date().toISOString(),
        jumlah_supporter: form.jumlah_supporter.value.trim()
      };
      submitToSheet(payload, form);
    });
  })();
  </script>
</body>
</html>
